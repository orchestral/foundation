/**
 * ========================================================================
 * Javie version 1.0.4
 * ========================================================================
 *
 * @package     Javie
 * @require     underscore, console, jQuery/Zepto
 * @version     1.0.4
 * @author      Mior Muhammad Zaki <http://git.io/crynobone>
 * @license     MIT License
 */

(function(){var a,d,c;a=this;c=a._;if(!c&&("undefined"!==typeof require)){c=require("underscore");}if(!c){throw new Error("Expected Underscore.js not available");
}d=function d(f,g){if(c.isFunction(f)){g=f;f=null;}if((d.ENV===f||c.isNull(f))&&c.isFunction(g)){g.call(d);}};d.config={};d.put=function e(g,h){var f=g;
if(!c.isObject(f)){f={};f[g.toString()]=h;}this.config=c.defaults(f,this.config);};d.get=function b(g,f){if(!c.isUndefined(f)){f=null;}if(!c.isUndefined(this.config[g])){return f;
}return this.config[g];};d.ENV="production";a.Javie=d;}).call(this);(function(){var a,e,d,c;a=this;e=function(){return e.make();};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports){exports=module.exports=e;
}exports.Events=exports.EventDispatcher=e;}else{if("undefined"===typeof a.Javie){a.Javie={};}a.Javie.EventDispatcher=a.Javie.Events=e;}d=a._;if(!d&&("undefined"!==typeof require)){d=require("underscore");
}if(!d){throw new Error("Expected Underscore.js not available");}e.make=function b(){var n,o;o=this;if(!d.isNull(c)&&!d.isUndefined(c)){return c;}n={};
c={listen:function j(q,p){if(!d.isFunction(p)){throw new Error("Callback is not a function");}if(d.isNull(n[q])||d.isUndefined(n[q])){n[q]=[];}n[q].push(p);
return{id:q,cb:p};},listener:function i(q,p){return this.listen(q,p);},fire:function h(t,s){var q,p;q=this;p=[];if(d.isNull(t)){throw new Error("Event ID is not provided: ["+t+"]");
}if(d.isNull(n[t])||d.isNull(n[t])){return null;}d.each(n[t],function r(v,u){p.push(v.apply(q,s||[]));});return p;},first:function k(u,t){var q,p,s;q=this;
p=[];if(d.isNull(u)){throw new Error("Event ID is not provided: ["+u+"]");}if(d.isNull(n[u])||d.isNull(n[u])){return null;}s=n[u].slice(0,1);d.each(s,function r(w,v){p.push(w.apply(q,t||[]));
});return p[0];},until:function g(t,s){var q,p;q=this;p=null;if(d.isNull(t)){throw new Error("Event ID is not provided: ["+t+"]");}if(d.isNull(n[t])||d.isNull(n[t])){return null;
}d.each(n[t],function r(v,u){if(d.isNull(p)){p=v.apply(q,s||[]);}});return null;},flush:function m(p){if(!d.isUndefined(n[p])){n[p]=null;}},forget:function f(r){var s,t,p;
s=this;t=r.id;p=r.cb;if(!d.isString(t)){throw new Error("Event ID is not provided: ["+t+"]");}if(!d.isFunction(p)){throw new Error("Callback is not a function");
}if(d.isNull(n[t])){throw new Error("No registered event found for ["+t+"]");}d.each(n[t],function q(v,u){if(v===p){n[t].splice(u,1);}});},clone:function l(q){return{to:function p(r){n[r]=d.clone(n[q]);
}};}};return c;};}).call(this);(function(){var j,d,k,b,f;j=this;f=j.console;d=function(){return d.make();};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports){exports=module.exports=d;
}exports.Logger=d;}else{if("undefined"===typeof j.Javie){j.Javie={};}j.Javie.Logger=d;}k=j._;if(!k&&("undefined"!==typeof require)){k=require("underscore");
}if(!k){throw new Error("Expected Underscore.js not available");}function c(l){return Array.prototype.slice.call(l);}d.noConflict=function i(){j.Logger=previous;
return this;};d.enabled=false;d.ERROR="error";d.WARNING="warning";d.INFO="info";d.DEBUG="debug";d.LOG="log";d.enable=function h(){this.enabled=true;};d.disable=function g(){this.enabled=false;
};d.status=function e(){return this.enabled;};d.make=function a(){var m,o;if(!k.isNull(b)&&!k.isUndefined(b)){return b;}m=this;o=function o(t,u){var s;
if(m.enabled===false){return null;}s=c(arguments);t=s.shift();if(s.length===1){s=s[0];}switch(t){case"info":f.info(s);break;case"debug":f.debug(s);break;
case"warning":f.warn(s);break;case"error":f.error(s);break;case"log":f.log(s);break;default:f.log("["+t.toUpperCase()+"]",s);break;}};b={logs:[],info:function r(){var s;
s=c(arguments);s.unshift(m.INFO);this.logs.push(s);o.apply(this,s);return this;},debug:function l(){var s;s=c(arguments);s.unshift(m.DEBUG);this.logs.push(s);
o.apply(this,s);return this;},warning:function q(){var s;s=c(arguments);s.unshift(m.WARNING);this.logs.push(s);o.apply(this,s);return this;},error:function n(){var s;
s=c(arguments);s.unshift(m.ERROR);this.logs.push(s);o.apply(this,s);return this;},log:function p(){var s;s=c(arguments);s.unshift(m.LOG);this.logs.push(s);
o.apply(this,s);return this;},post:function o(){var s;s=c(arguments);this.logs.push(s);o.apply(this,s);return this;}};return b;};}).call(this);(function(d){var j,i,k,h;
j=this;h={};i=function(l){return i.make(l);};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports){exports=module.exports=i;
}exports.Profiler=i;}else{if("undefined"===typeof j.Javie){j.Javie={};}j.Javie.Profiler=i;}k=j._;if(!k&&("undefined"!==typeof require)){k=require("underscore");
}if(!k){throw new Error("Expected Underscore.js not available");}function b(){return{id:"",type:"",start:null,end:null,total:null,message:""};}function g(l){var m,n;
m=new Date().getTime();n=parseInt(m/1000,10);return l?(m/1000):(m-(n*1000))/1000+" "+n;}i.enabled=false;i.enable=function f(){this.enabled=true;};i.disable=function e(){this.enabled=false;
};i.status=function c(){return this.enabled;};i.make=function a(o){var n,m;if(d===undefined&&this.enabled===true){throw new Error("console is not available.");
}if(k.isUndefined(o)||o===""){o="default";}if(h[o]!==undefined){return h[o];}n=this;m={logs:[],pair:{},startedAt:g(true),time:function r(v,u){var s,t;if(k.isNull(v)){v=this.logs.length;
}if(n.enabled===false){return null;}t=b();t.id=v;t.type="time";t.message=u.toString();t.start=g(true);if(!k.isUndefined(this.pair["time."+v])){s=this.pair["time."+v];
this.logs[s]=t;}else{this.logs.push(t);this.pair["time."+v]=(this.logs.length-1);}d.time(v);return v;},timeEnd:function q(y,w){var t,x,s,v,u;if(k.isNull(y)){y=this.logs.length;
}if(n.enabled===false){return;}if(k.isUndefined(this.pair["time."+y])){u=b();u.start=this.startedAt;if(!k.isUndefined(w)){u.message=w;}this.logs.push(u);
this.pair["time."+y]=(this.logs.length-1);u.id=y;u.type="time";}else{d.timeEnd(y);}t=this.pair["time."+y];u=this.logs[t];s=u.end=g(true);x=u.start;v=(s-x);
u.total=v;this.logs[t]=u;return v;},trace:function p(){if(n.enabled===false){return;}d.trace();},output:function l(s){var u,t,v,w;if(n.enabled===false){if(s===true){n.enable();
}else{return;}}u=this.logs;v=u.length;for(t=0;t<v;t=t+1){w=u[t];if("time"===w.type){d.info("%s: %s - %dms",w.id,w.message,Math.floor(w.total*1000));}else{d.log(w.id,w.message);
}}}};h[o]=m;return h[o];};}).call(this,console);(function(){var j,b,l,h,m,g;j=this;b=function(n){return b.make(n);};g={};if("undefined"!==typeof exports){throw new Error("Not supported");
}if("undefined"===typeof j.Javie){throw new Error("Javie is missing");}j.Javie.Request=b;if("undefined"===typeof j.Javie.EventDispatcher){throw new Error("Javie.EventDispatcher is missing");
}m=j.Javie.EventDispatcher.make();l=j._;if(!l&&"undefined"!==typeof require){l=require("underscore");}h=j.$;if("undefined"===typeof h||null===h){throw new Error("Required jQuery or Zepto object is not available.");
}function e(n){if(l.isString(n)){n=h.parseJSON(n);}return n;}b.config={baseUrl:null,onError:function f(o,n){},beforeSend:function k(o,n){},onComplete:function d(o,n){}};
b.put=function i(o,p){var n=o;if(!l.isObject(n)){n={};n[o.toString()]=p;}this.config=l.defaults(n,this.config);};b.get=function c(o,n){if(l.isUndefined(n)){n=null;
}if(l.isUndefined(this.config[o])){return n;}return this.config[o];};b.make=function a(o){var n,p,v,u,w;if(!l.isString(o)){o="default";}w=this;if(!l.isUndefined(g[o])){u=g[o];
if(u.executed===true){v=l.uniqueId(o+"_");p=w.make(v);m.clone("Request.onError: "+o).to("Request.onError: "+v);m.clone("Request.onComplete: "+o).to("Request.onComplete: "+v);
m.clone("Request.beforeSend: "+o).to("Request.beforeSend: "+v);p.put(u.config);return p;}return u;}n={executed:false,to:function t(A,z,y){var x,E,C,D,B;
x=this;if(l.isUndefined(A)){throw new Error("Missing required parameter.");}if(l.isNull(z)){z=j.document;}E=A.split(" ");C="GET";x.put({name:o,type:"GET",query:"",data:"",dataType:(!l.isUndefined(y)?y:"json"),id:"",object:z});
if(E.length===1){D=E[0];}else{if(l.indexOf(["POST","GET","PUT","DELETE"],E[0])>-1){C=E[0];}D=E[1];if(C!=="GET"){B=D.split("?");if(B.length>1){D=B[0];x.put("query",B[1]);
}}D=D.replace(":baseUrl",w.get("baseUrl",""));x.put({type:C,uri:D});}x.put("id","#"+h(x.get("object")).attr("id"));return this;},execute:function s(){var y,z;
y=this;z=h(y.get("object")).serialize()+"&"+y.get("query");if(z==="?&"){z="";}y.executed=true;m.fire("Request.beforeSend",[y]);m.fire("Request.beforeSend: "+o,[y]);
y.config.beforeSend(y);h.ajax({type:y.get("type"),dataType:y.get("dataType"),url:y.get("uri"),data:z,complete:function x(C){var B,A;if(C.responseText!==""){B=e(C.responseText);
A=C.status;if(!l.isUndefined(B)&&B.hasOwnProperty("errors")){m.fire("Request.onError",[B.errors,A,y]);m.fire("Request.onError: "+o,[B.errors,A,y]);y.config.onError(B.errors,A,y);
B.errors=null;}m.fire("Request.onComplete",[B,A,y]);m.fire("Request.onComplete: "+o,[B,A,y]);y.config.onComplete(B,A,y);}}});},config:{name:"",type:"GET",uri:"",query:"",data:"",dataType:"json",id:"",object:null},put:function r(y,z){var x=(!l.isString(y)?y:{key:z});
this.config=l.defaults(x,this.config);},get:function q(x,y){if(l.isUndefined(y)){y=null;}return(!l.isUndefined(this.config[x])?this.config[x]:y);}};n.config=l.defaults(n.config,w.config);
g[o]=n;return g[o];};}).call(this);
